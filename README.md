# 식권 관리 프로그램 (Meal Ticket App)

## 1. 실행 전 준비 (Setup)

이 프로그램은 구글 시트와 연동하기 위해 **서비스 계정 키(Service Account Key)**가 필요합니다.

### 1단계: 구글 클라우드 설정

1. [Google Cloud Console](https://console.cloud.google.com/)에 접속하여 새 프로젝트를 생성합니다.
2. 좌측 메뉴에서 **API 및 서비스 > 라이브러리**로 이동하여 **Google Sheets API**와 **Google Drive API**를 검색하고 **사용(Enable)** 설정합니다.
3. **API 및 서비스 > 사용자 인증 정보(Credentials)**로 이동하여 **사용자 인증 정보 만들기 > 서비스 계정(Service Account)**을 선택합니다.
4. 서비스 계정 생성 후, **사용자 인증 정보(Credentials)** 화면의 가장 하단 **서비스 계정(Service Accounts)** 목록에 방금 만든 계정이 보입니다.
5. 해당 계정의 **이메일 주소(링크)를 클릭**하여 상세 페이지로 이동합니다.
6. 상단 메뉴 탭 중에서 **키(Keys)**를 선택합니다.
7. **키 추가(Add Key) > 새 키 만들기(Create new key) > JSON**을 선택하여 파일을 다운로드합니다.

### 2단계: 파일 배치

1. 다운로드 받은 JSON 파일의 이름을 `service_account.json`으로 변경합니다.
2. 이 파일을 프로그램이 있는 폴더(`d:/앱제작/식권관리프로그램/`)에 넣어줍니다.

### 3단계: 구글 시트 권한 부여

1. 사용하고자 하는 구글 시트(`식권관리대장`)를 엽니다.
2. 우측 상단 **공유(Share)** 버튼을 누릅니다.
3. 앞서 복사한 **서비스 계정 이메일**을 입력하고 **편집자(Editor)** 권한을 부여합니다.

## 2. 프로그램 실행 (Run)

터미널(CMD 또는 PowerShell)에서 다음 명령어를 입력합니다:

```bash
streamlit run app.py
```

브라우저가 자동으로 열리며 앱이 실행됩니다.

## 3. 사용 방법

### 사용자 모드 (기본)

- 식권 종류, 사용 시간, 사용자 정보 등을 입력하고 "입력" 버튼을 누릅니다.
- "분실" 처리는 관리자만 가능합니다.

### 관리자 모드

- 우측 상단(혹은 메뉴)의 **관리자** 버튼을 누릅니다.
- 관리자 이메일(`wkj1003@gmail.com` 등)을 입력하여 로그인합니다.
- 식권 추가 및 재고 확인이 가능합니다.
